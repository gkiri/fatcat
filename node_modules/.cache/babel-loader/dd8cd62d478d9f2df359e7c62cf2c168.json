{"ast":null,"code":"var _jsxFileName = \"/home/gude/Gkiran_Area/wbst/fatcat/src/views/Home.tsx\",\n    _s = $RefreshSig$();\n\nimport \"../styles/views/Home.css\";\nimport styled from \"styled-components\";\nimport Countdown from \"react-countdown\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useEffect, useState } from \"react\";\nimport { Button, CircularProgress, Snackbar } from \"@material-ui/core\";\nimport { LAMPORTS_PER_SOL } from \"@solana/web3.js\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport { WalletDialogButton } from \"@solana/wallet-adapter-material-ui\";\nimport { awaitTransactionSignatureConfirmation, getCandyMachineState, mintOneToken, shortenAddress } from \"../candy-machine\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConnectButton = styled(WalletDialogButton)`\n  & {\n    border: 1px solid #fff !important;\n    background-color: transparent !important;\n    font-size: 1rem;\n    font-family: EB Garamond,serif,sans-serif !important;\n    &:hover {\n      background-color: #fff !important;\n      color: #1a1a1a;\n    }\n  }\n`;\n_c = ConnectButton;\nconst CounterText = styled.span``; // add your styles here\n\n_c2 = CounterText;\nconst MintContainer = styled.div``; // add your styles here\n\n_c3 = MintContainer;\nconst MintButton = styled(Button)`\n  & {\n    border: 1px solid #fff !important;\n    background-color: transparent !important;\n    font-size: 1rem;\n    font-family: EB Garamond,serif,sans-serif !important;\n    &:hover {\n      background-color: #fff !important;\n      color: #1a1a1a;\n    }\n  }\n`; // add your styles here\n\n_c4 = MintButton;\n\nconst Home = props => {\n  _s();\n\n  var _wallet$publicKey;\n\n  const [balance, setBalance] = useState(); //const [remainingItems, setRemainingItems] = useState<number>();\n\n  const [isActive, setIsActive] = useState(false); // true when countdown completes\n\n  const [isSoldOut, setIsSoldOut] = useState(false); // true when items remaining is zero\n\n  const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\n\n  const [alertState, setAlertState] = useState({\n    open: false,\n    message: \"\",\n    severity: undefined\n  });\n  const [startDate, setStartDate] = useState(new Date(props.startDate));\n  const wallet = useWallet();\n  const [candyMachine, setCandyMachine] = useState();\n\n  const onMint = async () => {\n    try {\n      setIsMinting(true);\n\n      if (wallet.connected && (candyMachine === null || candyMachine === void 0 ? void 0 : candyMachine.program) && wallet.publicKey) {\n        const mintTxId = await mintOneToken(candyMachine, props.config, wallet.publicKey, props.treasury);\n        const status = await awaitTransactionSignatureConfirmation(mintTxId, props.txTimeout, props.connection, \"singleGossip\", false);\n\n        if (!(status === null || status === void 0 ? void 0 : status.err)) {\n          setAlertState({\n            open: true,\n            message: \"Congratulations! Mint succeeded!\",\n            severity: \"success\"\n          });\n        } else {\n          setAlertState({\n            open: true,\n            message: \"Mint failed! Please try again!\",\n            severity: \"error\"\n          });\n        }\n      }\n    } catch (error) {\n      // TODO: blech:\n      let message = error.msg || \"Minting failed! Please try again!\";\n\n      if (!error.msg) {\n        if (error.message.indexOf(\"0x138\")) {} else if (error.message.indexOf(\"0x137\")) {\n          message = `SOLD OUT!`;\n        } else if (error.message.indexOf(\"0x135\")) {\n          message = `Insufficient funds to mint. Please fund your wallet.`;\n        }\n      } else {\n        if (error.code === 311) {\n          message = `SOLD OUT!`;\n          setIsSoldOut(true);\n        } else if (error.code === 312) {\n          message = `Minting period hasn't started yet.`;\n        }\n      }\n\n      setAlertState({\n        open: true,\n        message,\n        severity: \"error\"\n      });\n    } finally {\n      if (wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) {\n        const balance = await props.connection.getBalance(wallet === null || wallet === void 0 ? void 0 : wallet.publicKey);\n        setBalance(balance / LAMPORTS_PER_SOL);\n      }\n\n      setIsMinting(false);\n    }\n  };\n\n  useEffect(() => {\n    (async () => {\n      if (wallet === null || wallet === void 0 ? void 0 : wallet.publicKey) {\n        const balance = await props.connection.getBalance(wallet.publicKey);\n        setBalance(balance / LAMPORTS_PER_SOL);\n      }\n    })();\n  }, [wallet, props.connection]);\n  useEffect(() => {\n    (async () => {\n      const anchorWallet = {\n        publicKey: wallet.publicKey,\n        signAllTransactions: wallet.signAllTransactions,\n        signTransaction: wallet.signTransaction\n      };\n      const {\n        candyMachine,\n        goLiveDate,\n        itemsRemaining\n      } = await getCandyMachineState(anchorWallet, props.candyMachineId, props.connection); //Presale code \n      //Total we have :2000\n      //Presale:1500 \n      //setRemainingItems(itemsRemaining-933);\n      //After presale code\n\n      if (!wallet || !wallet.publicKey || !wallet.signAllTransactions || !wallet.signTransaction) {\n        return;\n      }\n\n      setIsSoldOut(itemsRemaining === 0);\n      setStartDate(goLiveDate);\n      setCandyMachine(candyMachine);\n    })();\n  }, [wallet, props.candyMachineId, props.connection]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"w-50\",\n              src: \"images/home-title.svg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Presale Wave-1 Ended. Wave-2 Coming Soon...!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Magic Peacocks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 44\n              }, this), \" are unique algorithmically generated 5555 NFT's on Solana Blockchain. Each magic peacock has different traits, gene rank, magic powers and no peacock has similar traits. All these NFTs are integrated in to Virtual Reality game.we are giving back 50% marketplace sales revenue to Peacock Holders. \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center justify-content-center text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"me-3 text-start\",\n              children: [wallet.connected && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Address: \", shortenAddress(((_wallet$publicKey = wallet.publicKey) === null || _wallet$publicKey === void 0 ? void 0 : _wallet$publicKey.toBase58()) || \"\")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 39\n              }, this), wallet.connected && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0\",\n                children: [\"Balance: \", (balance || 0).toLocaleString(), \" SOL\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MintContainer, {\n              children: !wallet.connected ? /*#__PURE__*/_jsxDEV(ConnectButton, {\n                children: \"CONNECT WALLET\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(MintButton, {\n                disabled: isSoldOut || isMinting || !isActive,\n                onClick: onMint,\n                variant: \"contained\",\n                children: isSoldOut ? \"SOLD OUT\" : isActive ? isMinting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 25\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 29\n                }, this) : \"MINT\" : /*#__PURE__*/_jsxDEV(Countdown, {\n                  date: startDate,\n                  onMount: ({\n                    completed\n                  }) => completed && setIsActive(true),\n                  onComplete: () => setIsActive(true),\n                  renderer: renderCounter\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-100\",\n            src: \"images/example-one.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-100\",\n            src: \"images/example-two.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-100\",\n            src: \"images/example-three.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-100\",\n            src: \"images/example-four.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-100\",\n            src: \"images/example-five.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-100\",\n            src: \"images/example-six.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-2\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-10\",\n            src: \"images/example-seven.png\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: alertState.open,\n      autoHideDuration: 6000,\n      onClose: () => setAlertState({ ...alertState,\n        open: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setAlertState({ ...alertState,\n          open: false\n        }),\n        severity: alertState.severity,\n        children: alertState.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"5Qy1C6tHG7UllXKkWubcSlE1vwg=\", false, function () {\n  return [useWallet];\n});\n\n_c5 = Home;\n\nconst renderCounter = ({\n  days,\n  hours,\n  minutes,\n  seconds,\n  completed\n}) => {\n  return /*#__PURE__*/_jsxDEV(CounterText, {\n    children: [hours, \" hours, \", minutes, \" minutes, \", seconds, \" seconds\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Home;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"ConnectButton\");\n$RefreshReg$(_c2, \"CounterText\");\n$RefreshReg$(_c3, \"MintContainer\");\n$RefreshReg$(_c4, \"MintButton\");\n$RefreshReg$(_c5, \"Home\");","map":{"version":3,"sources":["/home/gude/Gkiran_Area/wbst/fatcat/src/views/Home.tsx"],"names":["styled","Countdown","Alert","useEffect","useState","Button","CircularProgress","Snackbar","LAMPORTS_PER_SOL","useWallet","WalletDialogButton","awaitTransactionSignatureConfirmation","getCandyMachineState","mintOneToken","shortenAddress","ConnectButton","CounterText","span","MintContainer","div","MintButton","Home","props","balance","setBalance","isActive","setIsActive","isSoldOut","setIsSoldOut","isMinting","setIsMinting","alertState","setAlertState","open","message","severity","undefined","startDate","setStartDate","Date","wallet","candyMachine","setCandyMachine","onMint","connected","program","publicKey","mintTxId","config","treasury","status","txTimeout","connection","err","error","msg","indexOf","code","getBalance","anchorWallet","signAllTransactions","signTransaction","goLiveDate","itemsRemaining","candyMachineId","toBase58","toLocaleString","completed","renderCounter","days","hours","minutes","seconds"],"mappings":"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","sourcesContent":["import \"../styles/views/Home.css\";\nimport * as anchor from \"@project-serum/anchor\";\nimport styled from \"styled-components\";\nimport Countdown from \"react-countdown\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useEffect, useState } from \"react\";\nimport { Button, CircularProgress, Snackbar } from \"@material-ui/core\";\nimport { LAMPORTS_PER_SOL } from \"@solana/web3.js\";\nimport { useWallet } from \"@solana/wallet-adapter-react\";\nimport { WalletDialogButton } from \"@solana/wallet-adapter-material-ui\";\nimport { CandyMachine, awaitTransactionSignatureConfirmation, getCandyMachineState, mintOneToken, shortenAddress } from \"../candy-machine\";\n\nconst ConnectButton = styled(WalletDialogButton)`\n  & {\n    border: 1px solid #fff !important;\n    background-color: transparent !important;\n    font-size: 1rem;\n    font-family: EB Garamond,serif,sans-serif !important;\n    &:hover {\n      background-color: #fff !important;\n      color: #1a1a1a;\n    }\n  }\n`;\nconst CounterText = styled.span``; // add your styles here\nconst MintContainer = styled.div``; // add your styles here\nconst MintButton = styled(Button)`\n  & {\n    border: 1px solid #fff !important;\n    background-color: transparent !important;\n    font-size: 1rem;\n    font-family: EB Garamond,serif,sans-serif !important;\n    &:hover {\n      background-color: #fff !important;\n      color: #1a1a1a;\n    }\n  }\n`; // add your styles here\n\nexport interface HomeProps {\n  candyMachineId: anchor.web3.PublicKey;\n  config: anchor.web3.PublicKey;\n  connection: anchor.web3.Connection;\n  startDate: number;\n  treasury: anchor.web3.PublicKey;\n  txTimeout: number;\n}\n\nconst Home = (props: HomeProps) => {\n  const [balance, setBalance] = useState<number>();\n  //const [remainingItems, setRemainingItems] = useState<number>();\n\n  const [isActive, setIsActive] = useState(false); // true when countdown completes\n  const [isSoldOut, setIsSoldOut] = useState(false); // true when items remaining is zero\n  const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\n\n  const [alertState, setAlertState] = useState<AlertState>({\n    open: false,\n    message: \"\",\n    severity: undefined,\n  });\n\n  const [startDate, setStartDate] = useState(new Date(props.startDate));\n\n  const wallet = useWallet();\n  const [candyMachine, setCandyMachine] = useState<CandyMachine>();\n\n  const onMint = async () => {\n    try {\n      setIsMinting(true);\n      if (wallet.connected && candyMachine?.program && wallet.publicKey) {\n        const mintTxId = await mintOneToken(\n          candyMachine,\n          props.config,\n          wallet.publicKey,\n          props.treasury\n        );\n\n        const status = await awaitTransactionSignatureConfirmation(\n          mintTxId,\n          props.txTimeout,\n          props.connection,\n          \"singleGossip\",\n          false\n        );\n\n        if (!status?.err) {\n          setAlertState({\n            open: true,\n            message: \"Congratulations! Mint succeeded!\",\n            severity: \"success\",\n          });\n        } else {\n          setAlertState({\n            open: true,\n            message: \"Mint failed! Please try again!\",\n            severity: \"error\",\n          });\n        }\n      }\n    } catch (error: any) {\n      // TODO: blech:\n      let message = error.msg || \"Minting failed! Please try again!\";\n      if (!error.msg) {\n        if (error.message.indexOf(\"0x138\")) {\n        } else if (error.message.indexOf(\"0x137\")) {\n          message = `SOLD OUT!`;\n        } else if (error.message.indexOf(\"0x135\")) {\n          message = `Insufficient funds to mint. Please fund your wallet.`;\n        }\n      } else {\n        if (error.code === 311) {\n          message = `SOLD OUT!`;\n          setIsSoldOut(true);\n        } else if (error.code === 312) {\n          message = `Minting period hasn't started yet.`;\n        }\n      }\n\n      setAlertState({\n        open: true,\n        message,\n        severity: \"error\",\n      });\n    } finally {\n      if (wallet?.publicKey) {\n        const balance = await props.connection.getBalance(wallet?.publicKey);\n        setBalance(balance / LAMPORTS_PER_SOL);\n      }\n      setIsMinting(false);\n    }\n  };\n\n  useEffect(() => {\n    (async () => {\n      if (wallet?.publicKey) {\n        const balance = await props.connection.getBalance(wallet.publicKey);\n        setBalance(balance / LAMPORTS_PER_SOL);\n      }\n    })();\n  }, [wallet, props.connection]);\n\n  useEffect(() => {\n    (async () => {\n\n      const anchorWallet = {\n        publicKey: wallet.publicKey,\n        signAllTransactions: wallet.signAllTransactions,\n        signTransaction: wallet.signTransaction,\n      } as anchor.Wallet;\n\n      const { candyMachine, goLiveDate, itemsRemaining } =\n        await getCandyMachineState(\n          anchorWallet,\n          props.candyMachineId,\n          props.connection\n        );\n\n      //Presale code \n      //Total we have :2000\n      //Presale:1500 \n      //setRemainingItems(itemsRemaining-933);\n      //After presale code\n      \n\n      if (\n        !wallet ||\n        !wallet.publicKey ||\n        !wallet.signAllTransactions ||\n        !wallet.signTransaction\n      ) {\n        return;\n      }\n\n      setIsSoldOut(itemsRemaining === 0);\n      setStartDate(goLiveDate);\n      setCandyMachine(candyMachine);\n    })();\n  }, [wallet, props.candyMachineId, props.connection]);\n\n  return (\n    <main>\n      <section className=\"\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"mt-4 text-center\">\n              <img className=\"w-50\" src=\"images/home-title.svg\" alt=\"\" />\n              <h4>Presale Wave-1 Ended. Wave-2 Coming Soon...!</h4>\n              <p className=\"text-white-50\"><b>Magic Peacocks</b> are unique algorithmically generated 5555 NFT's on Solana Blockchain. Each magic peacock has different traits, gene rank, magic powers and no peacock has similar traits. All these NFTs are integrated in to Virtual Reality game.we are giving back 50% marketplace sales revenue to Peacock Holders. </p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className=\"mb-5\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"d-flex align-items-center justify-content-center text-center\">\n              <div className=\"me-3 text-start\">\n                {wallet.connected && (<p className=\"mb-0\">Address: {shortenAddress(wallet.publicKey?.toBase58() || \"\")}</p>)}\n                {wallet.connected && (<p className=\"mb-0\">Balance: {(balance || 0).toLocaleString()} SOL</p>)}\n              </div>\n              <MintContainer>\n                {\n                  !wallet.connected ?\n                    (\n                      <ConnectButton>CONNECT WALLET</ConnectButton>\n                    ) :\n                    (\n                      <MintButton\n                        disabled={isSoldOut || isMinting || !isActive}\n                        onClick={onMint}\n                        variant=\"contained\"\n                      >\n                        {isSoldOut ? (\n                          \"SOLD OUT\"\n                        ) : isActive ? (\n                          isMinting ? (\n                            <CircularProgress size={25} />\n                          ) : (\n                            \"MINT\"\n                          )\n                        ) : (\n                          <Countdown\n                            date={startDate}\n                            onMount={({ completed }) => completed && setIsActive(true)}\n                            onComplete={() => setIsActive(true)}\n                            renderer={renderCounter}\n                          />\n                        )}\n                      </MintButton>\n                    )}\n              </MintContainer>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className=\"mb-4\">\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <img className=\"w-100\" src=\"images/example-one.png\" alt=\"\" />\n          </div>\n          <div className=\"col-md-4\">\n            <img className=\"w-100\" src=\"images/example-two.png\" alt=\"\" />\n          </div>\n          <div className=\"col-md-4\">\n            <img className=\"w-100\" src=\"images/example-three.png\" alt=\"\" />\n          </div>\n          <div className=\"col-md-4\">\n            <img className=\"w-100\" src=\"images/example-four.jpg\" alt=\"\" />\n          </div>\n          <div className=\"col-md-4\">\n            <img className=\"w-100\" src=\"images/example-five.jpg\" alt=\"\" />\n          </div>\n          <div className=\"col-md-4\">\n            <img className=\"w-100\" src=\"images/example-six.jpg\" alt=\"\" />\n          </div>\n        </div>\n      </section>\n      \n      <section className=\"mb-4\">\n        <div className=\"row\">\n          <div className=\"col-lg-2\">\n            <img className=\"w-10\" src=\"images/example-seven.png\" alt=\"\" />\n          </div>\n        </div>\n      </section>\n      \n      <Snackbar\n        open={alertState.open}\n        autoHideDuration={6000}\n        onClose={() => setAlertState({ ...alertState, open: false })}\n      >\n        <Alert\n          onClose={() => setAlertState({ ...alertState, open: false })}\n          severity={alertState.severity}\n        >\n          {alertState.message}\n        </Alert>\n      </Snackbar>\n    </main>\n  );\n};\n\ninterface AlertState {\n  open: boolean;\n  message: string;\n  severity: \"success\" | \"info\" | \"warning\" | \"error\" | undefined;\n}\n\nconst renderCounter = ({ days, hours, minutes, seconds, completed }: any) => {\n  return (\n    <CounterText>\n      {hours} hours, {minutes} minutes, {seconds} seconds\n    </CounterText>\n  );\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}