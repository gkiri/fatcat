{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/home/gude/Gkiran_Area/wbst/fatcat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLocalStorage = void 0;\n\nvar react_1 = require(\"react\");\n\nfunction useLocalStorage(key, defaultState) {\n  var _ref = (0, react_1.useState)(function () {\n    if (typeof localStorage === 'undefined') return defaultState;\n    var value = localStorage.getItem(key);\n    if (value) return JSON.parse(value);\n    return defaultState;\n  }),\n      _ref2 = _slicedToArray(_ref, 2),\n      value = _ref2[0],\n      setValue = _ref2[1];\n\n  var setLocalStorage = (0, react_1.useCallback)(function (newValue) {\n    if (newValue === value) return;\n    setValue(newValue);\n\n    if (newValue === null) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, JSON.stringify(newValue));\n    }\n  }, [value, setValue, key]);\n  return [value, setLocalStorage];\n}\n\nexports.useLocalStorage = useLocalStorage;","map":{"version":3,"sources":["../src/useLocalStorage.ts"],"names":[],"mappings":";;;;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,SAAgB,eAAhB,CAAmC,GAAnC,EAAgD,YAAhD,EAA+D;AAC3D,aAA0B,CAAA,GAAA,OAAA,CAAA,QAAA,EAAY,YAAK;AACvC,QAAI,OAAO,YAAP,KAAwB,WAA5B,EAAyC,OAAO,YAAP;AAEzC,QAAM,KAAK,GAAG,YAAY,CAAC,OAAb,CAAqB,GAArB,CAAd;AACA,QAAI,KAAJ,EAAW,OAAO,IAAI,CAAC,KAAL,CAAW,KAAX,CAAP;AAEX,WAAO,YAAP;AACH,GAPyB,CAA1B;AAAA;AAAA,MAAO,KAAP;AAAA,MAAc,QAAd;;AASA,MAAM,eAAe,GAAG,CAAA,GAAA,OAAA,CAAA,WAAA,EACpB,UAAC,QAAD,EAAgB;AACZ,QAAI,QAAQ,KAAK,KAAjB,EAAwB;AACxB,IAAA,QAAQ,CAAC,QAAD,CAAR;;AAEA,QAAI,QAAQ,KAAK,IAAjB,EAAuB;AACnB,MAAA,YAAY,CAAC,UAAb,CAAwB,GAAxB;AACH,KAFD,MAEO;AACH,MAAA,YAAY,CAAC,OAAb,CAAqB,GAArB,EAA0B,IAAI,CAAC,SAAL,CAAe,QAAf,CAA1B;AACH;AACJ,GAVmB,EAWpB,CAAC,KAAD,EAAQ,QAAR,EAAkB,GAAlB,CAXoB,CAAxB;AAcA,SAAO,CAAC,KAAD,EAAQ,eAAR,CAAP;AACH;;AAzBD,OAAA,CAAA,eAAA,GAAA,eAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useLocalStorage = void 0;\nconst react_1 = require(\"react\");\nfunction useLocalStorage(key, defaultState) {\n    const [value, setValue] = (0, react_1.useState)(() => {\n        if (typeof localStorage === 'undefined')\n            return defaultState;\n        const value = localStorage.getItem(key);\n        if (value)\n            return JSON.parse(value);\n        return defaultState;\n    });\n    const setLocalStorage = (0, react_1.useCallback)((newValue) => {\n        if (newValue === value)\n            return;\n        setValue(newValue);\n        if (newValue === null) {\n            localStorage.removeItem(key);\n        }\n        else {\n            localStorage.setItem(key, JSON.stringify(newValue));\n        }\n    }, [value, setValue, key]);\n    return [value, setLocalStorage];\n}\nexports.useLocalStorage = useLocalStorage;\n//# sourceMappingURL=useLocalStorage.js.map"]},"metadata":{},"sourceType":"script"}